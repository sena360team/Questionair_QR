# 🛠️ Form Builder Flow - Card Based with Sections

## ภาพรวม: สร้างฟอร์มยังไง?

```
┌─────────────────────────────────────────────────────────────┐
│  STEP 1: เปิด Form Builder                                  │
│  → /admin/forms/create (สร้างใหม่)                          │
│  → /admin/forms/[id]/edit (แก้ไข)                           │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  STEP 2: ใส่ข้อมูลพื้นฐาน                                    │
│  → ชื่อฟอร์ม: "แบบสอบถามความพึงพอใจ"                        │
│  → คำอธิบาย: "กรุณาตอบคำถามต่อไปนี้"                        │
│  → โลโก้: [Optional]                                        │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  STEP 3: เพิ่ม Fields (คำถาม)                               │
│  → กดปุ่ม "Section" เพื่อแบ่งกลุ่ม                            │
│  → กดปุ่ม field types อื่นๆ                                  │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  STEP 4: จัดเรียง (Drag & Drop)                             │
│  → ลากย้าย field ขึ้น/ลง                                    │
│  → เรียงลำดับตามต้องการ                                     │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  STEP 5: บันทึก/เผยแพร่                                      │
│  → กด "บันทึก" (สร้าง Draft)                                │
│  → กด "เผยแพร่" (Public)                                    │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 ตัวอย่าง: สร้างฟอร์ม Card Based

### เป้าหมาย: สร้างแบบสอบถาม 3 Sections

```
┌──────────────────────────────┐
│  แบบสอบถามความพึงพอใจ        │  ← Heading
├──────────────────────────────┤
│                              │
│  📋 ข้อมูลส่วนตัว            │  ← Section 1
│  ─────────────────           │
│  • ชื่อ                      │
│  • อีเมล                     │
│  • จังหวัด (Dropdown)       │
│                              │
├──────────────────────────────┤
│                              │
│  🛎️ ข้อมูลบริการ             │  ← Section 2
│  ─────────────────           │
│  • ประเภทบริการ (Dropdown)  │
│  • สาขา (Dropdown)           │
│  • คะแนน (Rating)            │
│                              │
├──────────────────────────────┤
│                              │
│  💬 ข้อเสนอแนะ               │  ← Section 3
│  ─────────────────           │
│  • ข้อเสนอแนะ (Textarea)    │
│                              │
├──────────────────────────────┤
│  [  ส่งคำตอบ  ]              │
└──────────────────────────────┘
```

---

## 🔧 Step-by-Step การสร้าง

### Step 1: เริ่มต้น
```
1. ไปที่ /admin/forms/create
2. กรอก:
   - รหัส: SAT-2024-001
   - ชื่อ: แบบสอบถามความพึงพอใจ
   - คำอธิบาย: กรุณาตอบคำถามต่อไปนี้
```

### Step 2: เพิ่ม Heading
```
[Click] + หัวข้อ (heading)

แก้ไข:
- หัวข้อ: "แบบสอบถามความพึงพอใจลูกค้า"
```

### Step 3: เพิ่ม Section แรก
```
[Click] + Section (section)

แก้ไข:
- ชื่อ Section: "📋 ข้อมูลส่วนตัว"
```

### Step 4: เพิ่มคำถามใน Section 1
```
[Click] + ข้อความสั้น (text)
แก้ไข:
- คำถาม: "ชื่อ-นามสกุล"
- บังคับตอบ: ✅

[Click] + อีเมล (email)
แก้ไข:
- คำถาม: "อีเมล"
- บังคับตอบ: ✅

[Click] + Dropdown (dropdown)  ← ใช้ field type ที่มีอยู่แล้ว
แก้ไข:
- คำถาม: "จังหวัด"
- ตัวเลือก:
  • กรุงเทพมหานคร
  • เชียงใหม่
  • ภูเก็ต
  • ชลบุรี
- บังคับตอบ: ✅
```

### Step 5: เพิ่ม Section 2
```
[Click] + Section (section)

แก้ไข:
- ชื่อ Section: "🛎️ ข้อมูลบริการ"
```

### Step 6: เพิ่มคำถามใน Section 2
```
[Click] + Dropdown (dropdown)
แก้ไข:
- คำถาม: "ประเภทบริการที่ใช้"
- ตัวเลือก:
  • บริการออนไลน์
  • บริการที่สาขา
  • บริการโทรศัพท์
- บังคับตอบ: ✅

[Click] + Dropdown (dropdown)
แก้ไข:
- คำถาม: "สาขาที่ใช้บริการ"
- ตัวเลือก:
  • สาขาสยามสแควร์
  • สาขาเซ็นทรัลเวิลด์
  • สาขาเอ็มโพเรียม

[Click] + ให้คะแนน (rating)
แก้ไข:
- คำถาม: "ความพึงพอใจโดยรวม"
- Min: 1, Max: 5
- บังคับตอบ: ✅
```

### Step 7: เพิ่ม Section 3
```
[Click] + Section (section)

แก้ไข:
- ชื่อ Section: "💬 ข้อเสนอแนะ"
```

### Step 8: เพิ่มคำถามใน Section 3
```
[Click] + ข้อความยาว (textarea)
แก้ไข:
- คำถาม: "ข้อเสนอแนะเพิ่มเติม"
- คำอธิบาย: "แนะนำสิ่งที่เราควรปรับปรุง"
- บังคับตอบ: ❌
```

### Step 9: จัดเรียง (ถ้าต้องการ)
```
ลาก fields ขึ้น/ลงเพื่อจัดเรียง:

1. หัวข้อ: แบบสอบถาม...
2. Section: 📋 ข้อมูลส่วนตัว
3.    - ชื่อ-นามสกุล
4.    - อีเมล
5.    - จังหวัด
6. Section: 🛎️ ข้อมูลบริการ
7.    - ประเภทบริการ
8.    - สาขา
9.    - ความพึงพอใจ
10. Section: 💬 ข้อเสนอแนะ
11.   - ข้อเสนอแนะเพิ่มเติม
```

### Step 10: บันทึก
```
[Click] 💾 บันทึก

ระบบจะ:
1. สร้าง Draft
2. แสดง Preview
3. ให้กด "เผยแพร่" เมื่อพร้อม
```

---

## 🖼️ หน้าตา Form Builder ตอนสร้าง

```
┌─────────────────────────────────────────────────────────────────┐
│  📝 Form Builder                                      [💾 บันทึก]│
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  องค์ประกอบหน้า                    คำถาม                        │
│  ┌─────────┐ ┌─────────┐          ┌─────────┐ ┌─────────┐      │
│  │ หัวข้อ  │ │ Section │          │ข้อความ │ │Dropdown │      │
│  └─────────┘ └─────────┘          │  สั้น   │ └─────────┘      │
│  ┌─────────┐                      └─────────┘ ┌─────────┐      │
│  │กล่องข้อ │                      ┌─────────┐ │หลายตัว  │      │
│  │ ความ   │                      │ข้อความ │ │ เลือก   │      │
│  └─────────┘                      │  ยาว    │ └─────────┘      │
│                                   └─────────┘ ┌─────────┐      │
│                                               │ให้คะแนน│      │
│                                               └─────────┘      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ หัวข้อ                                    [แก้ไข] [🗑️]   │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │  แบบสอบถามความพึงพอใจลูกค้า                               │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ Section                                   [แก้ไข] [🗑️]   │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │  📋 ข้อมูลส่วนตัว                                          │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ข้อความสั้น                              [แก้ไข] [🗑️]   │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │  ชื่อ-นามสกุล *                                            │  │
│  │  [____________________________]                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ Dropdown                                  [แก้ไข] [🗑️]   │  │
│  ├───────────────────────────────────────────────────────────┤  │  │
│  │  จังหวัด *                                                 │  │
│  │  [เลือกจังหวัด ▼]                                         │  │
│  │  • กรุงเทพมหานคร                                          │  │
│  │  • เชียงใหม่                                               │  │
│  │  • ภูเก็ต                                                  │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ Section                                   [แก้ไข] [🗑️]   │  │
│  ├───────────────────────────────────────────────────────────┤  │
│  │  🛎️ ข้อมูลบริการ                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ... (fields อื่นๆ) ...                                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📊 โครงสร้างข้อมูล (JSON)

```json
{
  "title": "แบบสอบถามความพึงพอใจ",
  "fields": [
    {
      "id": "f-1",
      "type": "heading",
      "label": "แบบสอบถามความพึงพอใจลูกค้า"
    },
    {
      "id": "f-2",
      "type": "section",
      "label": "📋 ข้อมูลส่วนตัว"
    },
    {
      "id": "f-3",
      "type": "text",
      "label": "ชื่อ-นามสกุล",
      "required": true
    },
    {
      "id": "f-4",
      "type": "email",
      "label": "อีเมล",
      "required": true
    },
    {
      "id": "f-5",
      "type": "dropdown",
      "label": "จังหวัด",
      "options": ["กรุงเทพมหานคร", "เชียงใหม่", "ภูเก็ต"],
      "required": true
    },
    {
      "id": "f-6",
      "type": "section",
      "label": "🛎️ ข้อมูลบริการ"
    },
    {
      "id": "f-7",
      "type": "dropdown",
      "label": "ประเภทบริการที่ใช้",
      "options": ["บริการออนไลน์", "บริการที่สาขา"],
      "required": true
    },
    {
      "id": "f-8",
      "type": "dropdown",
      "label": "สาขาที่ใช้บริการ",
      "options": ["สยามสแควร์", "เซ็นทรัลเวิลด์"]
    },
    {
      "id": "f-9",
      "type": "rating",
      "label": "ความพึงพอใจโดยรวม",
      "min": 1,
      "max": 5,
      "required": true
    },
    {
      "id": "f-10",
      "type": "section",
      "label": "💬 ข้อเสนอแนะ"
    },
    {
      "id": "f-11",
      "type": "textarea",
      "label": "ข้อเสนอแนะเพิ่มเติม",
      "required": false
    }
  ]
}
```

---

## 🎨 หน้าตาตอนแสดงผล (Public Form)

```
┌──────────────────────────────────────────┐
│                                          │
│         [LOGO]                           │
│                                          │
│  แบบสอบถามความพึงพอใจลูกค้า             │
│  กรุณาตอบคำถามต่อไปนี้                  │
│                                          │
├──────────────────────────────────────────┤
│                                          │
│  ┌────────────────────────────────────┐  │
│  │  👤 ข้อมูลส่วนตัว                   │  │
│  │  ────────────────────────────────  │  │
│  │                                    │  │
│  │  ชื่อ-นามสกุล *                     │  │
│  │  ┌────────────────────────────┐   │  │
│  │  │                            │   │  │
│  │  └────────────────────────────┘   │  │
│  │                                    │  │
│  │  อีเมล *                            │  │
│  │  ┌────────────────────────────┐   │  │
│  │  │                            │   │  │
│  │  └────────────────────────────┘   │  │
│  │                                    │  │
│  │  จังหวัด *                         │  │
│  │  ┌────────────────────────────┐   │  │
│  │  │ เลือกจังหวัด...       ▼   │   │  │
│  │  └────────────────────────────┘   │  │
│  │                                    │  │
│  └────────────────────────────────────┘  │
│                                          │
│  ┌────────────────────────────────────┐  │
│  │  🛎️ ข้อมูลบริการ                    │  │
│  │  ────────────────────────────────  │  │
│  │                                    │  │
│  │  ประเภทบริการที่ใช้ *              │  │
│  │  ┌────────────────────────────┐   │  │
│  │  │ เลือกบริการ...        ▼   │   │  │
│  │  └────────────────────────────┘   │  │
│  │                                    │  │
│  │  ...                               │  │
│  │                                    │  │
│  └────────────────────────────────────┘  │
│                                          │
│        [      ส่งคำตอบ      ]            │
│                                          │
└──────────────────────────────────────────┘
```

---

## ✅ Checklist ก่อนเผยแพร่

- [ ] มี Heading หรือไม่?
- [ ] แบ่ง Section ชัดเจนไหม?
- [ ] แต่ละ Section มีคำถามกี่ข้อ? (แนะนำ 3-5 ข้อ)
- [ ] Dropdown มีตัวเลือกครบไหม?
- [ ] Field ไหนบังคับตอบบ้าง?
- [ ] ทดสอบ Preview ดู flow เรียบร้อย?
- [ ] สร้าง QR Code แล้ว?

---

## 💡 Tips

### 1. ตั้งชื่อ Section ให้มี Icon
```
✅ "📋 ข้อมูลส่วนตัว"
✅ "🛎️ ข้อมูลบริการ"
✅ "💬 ข้อเสนอแนะ"
✅ "📍 ตำแหน่ง"
```

### 2. จำนวนคำถามต่อ Section
```
✅ ดี: 3-5 คำถามต่อ Section
❌ เยอะไป: 10+ คำถาม (ยาวเกิน)
```

### 3. ลำดับการเรียง
```
1. Heading (หัวข้อใหญ่)
2. Section (แบ่งกลุ่ม)
3. Questions (คำถาม)
4. Section (ถัดไป)
5. Questions (คำถาม)
6. (ทำซ้ำ)
```

---

## 🚀 ต่อไปทำอะไร?

เลือกได้เลยครับ:
1. **Implement Card Based FormRenderer** - แก้โค้ดให้ render เป็น Card
2. **เพิ่ม Section Settings** - ให้เลือกสี, icon ของแต่ละ Section
3. **เพิ่ม Conditional Logic** - แสดง Section ตามเงื่อนไข
4. **เพิ่ม Progress Bar** - แสดงความคืบหน้า

ต้องการให้ทำอันไหนก่อนครับ?
